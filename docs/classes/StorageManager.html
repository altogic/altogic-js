<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>StorageManager | altogic</title><meta name="description" content="Documentation for altogic"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">altogic</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">altogic</a></li><li><a href="StorageManager.html">StorageManager</a></li></ul><h1>Class StorageManager</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Allows you manage your app&#39;s cloud storage buckets and files. With StorageManager you can create and list buckets and use the <a href="BucketManager.html">BucketManager</a> to manage a specific bucket and and its contained files.</p>
</div><div><p>You store your files, documents, images etc. under buckets, which are the basic containers that hold your application data. You typically create a bucket and upload files/objects to this bucket.</p>
<p>When you deploy your app to an environment Altogic creates a default bucket called <code>root</code>. The <code>root</code> bucket helps you to group your app files that are not under any other bucket. Any file upload, which does not specify a bucket, is uploaded to the <code>root</code> bucket.</p>
<p>You cannot rename or delete <code>root</code> bucket, but you can empty its contents and change its default privacy setting. By default the files contained in <code>root</code> bucket is publicly accessible through their URLs. You can change the default privacy setting of the <code>root</code> bucket using the <a href="BucketManager.html#makePublic">BucketManager.makePublic</a> or <a href="BucketManager.html#makePrivate">BucketManager.makePrivate</a> methods.</p>
</div><dl class="tsd-comment-tags"><dt>export</dt><dd></dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><a href="APIBase.html" class="tsd-signature-type" data-tsd-kind="Class">APIBase</a><ul class="tsd-hierarchy"><li><span class="target">StorageManager</span></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="StorageManager.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-inherited tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="StorageManager.html#fetcher" class="tsd-kind-icon">fetcher</a></li></ul></section><section class="tsd-index-section "><h3>Accessors</h3><ul class="tsd-index-list"><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="StorageManager.html#root" class="tsd-kind-icon">root</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#bucket" class="tsd-kind-icon">bucket</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#createBucket" class="tsd-kind-icon">create<wbr/>Bucket</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#deleteFile" class="tsd-kind-icon">delete<wbr/>File</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#getStats" class="tsd-kind-icon">get<wbr/>Stats</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#listBuckets" class="tsd-kind-icon">list<wbr/>Buckets</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#searchFiles" class="tsd-kind-icon">search<wbr/>Files</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a id="constructor" class="tsd-anchor"></a><h3>constructor</h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">new <wbr/>Storage<wbr/>Manager<span class="tsd-signature-symbol">(</span>fetcher<span class="tsd-signature-symbol">: </span><a href="Fetcher.html" class="tsd-signature-type" data-tsd-kind="Class">Fetcher</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="StorageManager.html" class="tsd-signature-type" data-tsd-kind="Class">StorageManager</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="APIBase.html">APIBase</a>.<a href="APIBase.html#constructor">constructor</a></p><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L24">StorageManager.ts:24</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates an instance of StorageManager to manage storage (i.e., files) of your application.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>fetcher: <a href="Fetcher.html" class="tsd-signature-type" data-tsd-kind="Class">Fetcher</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The http client to make RESTful API calls to the application&#39;s execution engine</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="StorageManager.html" class="tsd-signature-type" data-tsd-kind="Class">StorageManager</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-inherited tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a id="fetcher" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagProtected">Protected</span> fetcher</h3><div class="tsd-signature tsd-kind-icon">fetcher<span class="tsd-signature-symbol">:</span> <a href="Fetcher.html" class="tsd-signature-type" data-tsd-kind="Class">Fetcher</a></div><aside class="tsd-sources"><p>Inherited from <a href="APIBase.html">APIBase</a>.<a href="APIBase.html#fetcher">fetcher</a></p><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/APIBase.ts#L17">APIBase.ts:17</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The http client to make RESTful API calls to the application&#39;s execution engine</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Accessors</h2><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="root" class="tsd-anchor"></a><h3>root</h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> root<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="BucketManager.html" class="tsd-signature-type" data-tsd-kind="Class">BucketManager</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L110">StorageManager.ts:110</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns a <a href="BucketManager.html">BucketManager</a> for the <code>root</code> bucket. It is equivalent to calling <code>bucket(&#39;root&#39;)</code></p>
</div><dl class="tsd-comment-tags"><dt>readonly</dt><dd></dd></dl></div><h4 class="tsd-returns-title">Returns <a href="BucketManager.html" class="tsd-signature-type" data-tsd-kind="Class">BucketManager</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="bucket" class="tsd-anchor"></a><h3>bucket</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">bucket<span class="tsd-signature-symbol">(</span>nameOrId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="BucketManager.html" class="tsd-signature-type" data-tsd-kind="Class">BucketManager</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L38">StorageManager.ts:38</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a new <a href="BucketManager.html">BucketManager</a> object for the specified bucket.</p>
</div><div><p>Buckets are the basic containers that hold your application data (i.e., files). Everything that you store in your app storage must be contained in a bucket. You can use buckets to organize your data and control access to your data, but unlike directories and folders, you cannot nest buckets.</p>
<p>Altogic automatically provides a default <strong><code>root</code></strong> bucket where you can store your files. You can pretty much do everthing with the <strong><code>root</code></strong> bucket that you can do with a normal bucket except you cannot delete or rename it.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>nameOrId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name or id of the bucket.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="BucketManager.html" class="tsd-signature-type" data-tsd-kind="Class">BucketManager</a></h4><div><p>Returns a new <a href="BucketManager.html">BucketManager</a> object that will be used for managing the bucket</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="createBucket" class="tsd-anchor"></a><h3>create<wbr/>Bucket</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">create<wbr/>Bucket<span class="tsd-signature-symbol">(</span>name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, isPublic<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span>, tags<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L53">StorageManager.ts:53</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a new bucket. If there already exists a bucket with the specified name, it returns an error. You can specify additional information to store with each bucket using the <strong>tags</strong> which are array of string values. By default if this method is called within the context of a user session, it also assigns the <code>userId</code> of the session to the bucket metadata.</p>
</div><div><p>Files can be specified as <strong>public</strong> or <strong>private</strong>, which defines how the public URL of the file will behave. If a file is marked as private then external apps/parties will not be able to access it through its public URL. With <code>isPublic</code> parameter of a bucket, you can specify default privacy setting of the files contained in this bucket, meaning that when you add a file to a bucket and if the file did not specify public/private setting, then the the bucket&#39;s privacy setting will be applied. You can always override the default privacy setting of a bucket at the individual file level.</p>
<blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>name: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the bucket to create (case sensitive). <code>root</code> is a reserved name and cannot be used.</p>
</div></div></li><li><h5>isPublic: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The default privacy setting that will be applied to the files uploaded to this bucket.</p>
</div></div></li><li><h5>tags: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Array of string values that will be added to the bucket metadata.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Returns info about newly created bucket</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="deleteFile" class="tsd-anchor"></a><h3>delete<wbr/>File</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">delete<wbr/>File<span class="tsd-signature-symbol">(</span>fileUrl<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L168">StorageManager.ts:168</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Deletes a file identified by the url string. You can directly use this method to delete any file that you know its url (e.g., no need to specify bucket name/id and file name/id)</p>
</div><div><blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>fileUrl: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The url of the file that will be deleted</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getStats" class="tsd-anchor"></a><h3>get<wbr/>Stats</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<wbr/>Stats<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L120">StorageManager.ts:120</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the overall information about your apps cloud storage including total number of buckets and files stored, total storage size in bytes and average, min and max file size in bytes.</p>
</div><div><blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Returns information about your app&#39;s cloud storage</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="listBuckets" class="tsd-anchor"></a><h3>list<wbr/>Buckets</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">list<wbr/>Buckets<span class="tsd-signature-symbol">(</span>expression<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/BucketListOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">BucketListOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L85">StorageManager.ts:85</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Gets the list of buckets in your app cloud storage. If query <code>expression</code> is specified, it runs the specified filter query to narrow down returned results, otherwise, returns all buckets contained in your app&#39;s cloud storage. You can use the following bucket fields in your query expressions.</p>
</div><div><table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Type</th>
<th align="left">Desciption</th>
</tr>
</thead>
<tbody><tr>
<td align="left">_id</td>
<td align="left"><code>text</code> <em>(<code>identifier</code>)</em></td>
<td align="left">Unique identifier of the file</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left"><code>text</code></td>
<td align="left">Name of the bucket</td>
</tr>
<tr>
<td align="left">isPublic</td>
<td align="left"><code>boolean</code></td>
<td align="left">Default privacy setting that will be applied to files of the bucket</td>
</tr>
<tr>
<td align="left">userId</td>
<td align="left"><code>text</code> <em>(<code>identifier</code>)</em></td>
<td align="left">The unique identifier of the user who created the bucket. The <code>userId</code> information is populated only when the bucket is created within the context of a user session.</td>
</tr>
<tr>
<td align="left">tags</td>
<td align="left"><code>string array</code></td>
<td align="left">List of tags added to the bucket metadata</td>
</tr>
<tr>
<td align="left">createdAt</td>
<td align="left"><code>datetime</code> <em>(<code>text</code>)</em></td>
<td align="left">The creation date and time of the bucket</td>
</tr>
<tr>
<td align="left">updatedAt</td>
<td align="left"><code>datetime</code> <em>(<code>text</code>)</em></td>
<td align="left">The last modification date and time of bucket metadata</td>
</tr>
</tbody></table>
<p>You can paginate through your buckets and sort them using the input <a href="../interfaces/BucketListOptions.html">BucketListOptions</a> parameter.</p>
<blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> expression: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The query expression string that will be used to filter buckets</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/BucketListOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">BucketListOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options to configure how buckets will be listed, primarily used to set pagination and sorting settings</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Returns the array of matching buckets. If <code>returnCountInfo=true</code> in <a href="../interfaces/BucketListOptions.html">BucketListOptions</a>, it returns an object which includes the count information and the matching buckets array.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="searchFiles" class="tsd-anchor"></a><h3>search<wbr/>Files</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">search<wbr/>Files<span class="tsd-signature-symbol">(</span>expression<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/FileListOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">FileListOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/5f1e442/src/StorageManager.ts#L149">StorageManager.ts:149</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Gets the list of files matching the search expression. This method performs a global search across all the files contained in all the buckets. You can use the following file fields in your search expression.</p>
</div><div><table>
<thead>
<tr>
<th align="left">Field name</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">_id</td>
<td align="left"><code>text</code> <em>(<code>identifier</code>)</em></td>
<td align="left">Unique identifier of the file</td>
</tr>
<tr>
<td align="left">bucketId</td>
<td align="left"><code>text</code> <em>(<code>identifier</code>)</em></td>
<td align="left">Identifier of the bucket</td>
</tr>
<tr>
<td align="left">fileName</td>
<td align="left"><code>text</code></td>
<td align="left">Name of the file</td>
</tr>
<tr>
<td align="left">isPublic</td>
<td align="left"><code>boolean</code></td>
<td align="left">Whether file is publicy accessible or not</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left"><code>integer</code></td>
<td align="left">Size of the file in bytes</td>
</tr>
<tr>
<td align="left">encoding</td>
<td align="left"><code>text</code></td>
<td align="left">The encoding type of the file such as <code>7bit</code>, <code>utf8</code></td>
</tr>
<tr>
<td align="left">mimeType</td>
<td align="left"><code>text</code></td>
<td align="left">The mime-type of the file such as <code>image/gif</code>, <code>text/html</code></td>
</tr>
<tr>
<td align="left">publicPath</td>
<td align="left"><code>text</code></td>
<td align="left">The public path (URL) of the file</td>
</tr>
<tr>
<td align="left">userId</td>
<td align="left"><code>text</code> <em>(<code>identifier</code>)</em></td>
<td align="left">The unique identifier of the user who created/uploaded the file. The <code>userId</code> information is populated only when the file is created/uploaded within the context of a user session.</td>
</tr>
<tr>
<td align="left">tags</td>
<td align="left"><code>string array</code></td>
<td align="left">List of tags added to the file metadata</td>
</tr>
<tr>
<td align="left">uploadedAt</td>
<td align="left"><code>datetime</code> <em>(<code>text</code>)</em></td>
<td align="left">The upload date and time of the file</td>
</tr>
<tr>
<td align="left">updatedAt</td>
<td align="left"><code>datetime</code> <em>(<code>text</code>)</em></td>
<td align="left">The last modification date and time of file metadata</td>
</tr>
</tbody></table>
<p>You can paginate through your files and sort them using the input <a href="../interfaces/FileListOptions.html">FileListOptions</a> parameter.</p>
<blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>expression: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The search expression string that will be used to filter file objects</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/FileListOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">FileListOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Pagination and sorting options</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Returns the files mathcing the search query. If <code>returnCountInfo=true</code> in <a href="../interfaces/FileListOptions.html">FileListOptions</a>, returns an object which includes count information and array of matching files.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class"><a href="StorageManager.html" class="tsd-kind-icon">Storage<wbr/>Manager</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="StorageManager.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="StorageManager.html#fetcher" class="tsd-kind-icon">fetcher</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="StorageManager.html#root" class="tsd-kind-icon">root</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#bucket" class="tsd-kind-icon">bucket</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#createBucket" class="tsd-kind-icon">create<wbr/>Bucket</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#deleteFile" class="tsd-kind-icon">delete<wbr/>File</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#getStats" class="tsd-kind-icon">get<wbr/>Stats</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#listBuckets" class="tsd-kind-icon">list<wbr/>Buckets</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="StorageManager.html#searchFiles" class="tsd-kind-icon">search<wbr/>Files</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>