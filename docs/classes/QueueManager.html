<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>QueueManager | altogic</title><meta name="description" content="Documentation for altogic"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">altogic</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">altogic</a></li><li><a href="QueueManager.html">QueueManager</a></li></ul><h1>Class QueueManager </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>The queue manager allows different parts of your application to communicate and perform activities asynchronously.</p>
</div><div><p>A message queue provides a buffer that temporarily stores messages and dispatches them to their consuming service. The messages are usually small, and can be things like requests, replies or error messages, etc.</p>
<p>Typically, in Altogic, you submit messages to a queue in your backend app services using the <strong>Submit Message to Queue</strong> node. However, with Altogic&#39;s client API by calling the <a href="QueueManager.html#submitMessage">submitMessage</a> method, you can manually send messages to your selected queue for processing.</p>
</div><dl class="tsd-comment-tags"><dt>export</dt><dd></dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><a href="APIBase.html" class="tsd-signature-type" data-tsd-kind="Class">APIBase</a><ul class="tsd-hierarchy"><li><span class="target">QueueManager</span></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="QueueManager.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section tsd-is-inherited tsd-is-private-protected"><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="QueueManager.html#fetcher" class="tsd-kind-icon">fetcher</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueueManager.html#getMessageStatus" class="tsd-kind-icon">get<wbr/>Message<wbr/>Status</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueueManager.html#submitMessage" class="tsd-kind-icon">submit<wbr/>Message</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><li class="tsd-signature tsd-kind-icon">new <wbr/>Queue<wbr/>Manager<span class="tsd-signature-symbol">(</span>fetcher<span class="tsd-signature-symbol">: </span><a href="Fetcher.html" class="tsd-signature-type" data-tsd-kind="Class">Fetcher</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="QueueManager.html" class="tsd-signature-type" data-tsd-kind="Class">QueueManager</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Overrides <a href="APIBase.html">APIBase</a>.<a href="APIBase.html#constructor">constructor</a></p><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/47f2850/src/QueueManager.ts#L20">QueueManager.ts:20</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates an instance of QueueManager to submit messages to your backend app message queues.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>fetcher: <a href="Fetcher.html" class="tsd-signature-type" data-tsd-kind="Class">Fetcher</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The http client to make RESTful API calls to the application&#39;s execution engine</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="QueueManager.html" class="tsd-signature-type" data-tsd-kind="Class">QueueManager</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group tsd-is-inherited tsd-is-private-protected"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a id="fetcher" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagProtected">Protected</span> fetcher<a href="#fetcher" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">fetcher<span class="tsd-signature-symbol">:</span> <a href="Fetcher.html" class="tsd-signature-type" data-tsd-kind="Class">Fetcher</a></div><aside class="tsd-sources"><p>Inherited from <a href="APIBase.html">APIBase</a>.<a href="APIBase.html#fetcher">fetcher</a></p><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/47f2850/src/APIBase.ts#L17">APIBase.ts:17</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The http client to make RESTful API calls to the application&#39;s execution engine</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="getMessageStatus" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Message<wbr/>Status<a href="#getMessageStatus" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">get<wbr/>Message<wbr/>Status<span class="tsd-signature-symbol">(</span>messageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol">; </span>info<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/MessageInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">MessageInfo</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/47f2850/src/QueueManager.ts#L58">QueueManager.ts:58</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Gets the latest status of the message. The last seven days message queue logs are kept. If you try to get the status of a message that has been submitted earlier, this method returns <code>null</code> for <a href="../interfaces/MessageInfo.html">MessageInfo</a>.</p>
</div><div><blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>messageId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The id of the message</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol">; </span>info<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/MessageInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">MessageInfo</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>If successful, returns status information about the submitted message</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="submitMessage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">submit<wbr/>Message<a href="#submitMessage" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">submit<wbr/>Message<span class="tsd-signature-symbol">(</span>queueNameOrId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, message<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">object</span>, delay<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol">; </span>info<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/MessageInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">MessageInfo</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/altogic/altogic-js/blob/47f2850/src/QueueManager.ts#L37">QueueManager.ts:37</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Submits a message to the specified message queue for asychronous processing. After the message is submitted, the routed service defined in your message queue configuration is invoked. This routed service processes the input message and performs necessary tasks defined in its service flow.</p>
</div><div><p>You can also specify a delay (in seconds) between message submission to the queue and routed service invocation. As an example, you would like to send a welcome email to your new users when they sign up. Instead of sending this email immediately after sign up, you can send it after 24 hours later (e.g., 60 x 60 x 24 = 86400 seconds)</p>
<p>The structure of the message (e.g., key-value pairs) is defined by the <em>Start Node</em> of your queue service.</p>
<blockquote>
<p><em>If the client library key is set to <strong>enforce session</strong>, an active user session is required (e.g., user needs to be logged in) to call this method.</em></p>
</blockquote>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>queueNameOrId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name or id of the message queue.</p>
</div></div></li><li><h5>message: <span class="tsd-signature-type">object</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The message payload (JSON object) that will be submitted to the message queue</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> delay: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The number of seconds to delay the messages in queue before dispacthing them to their consuming service</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">{ </span>errors<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/APIError.html" class="tsd-signature-type" data-tsd-kind="Interface">APIError</a><span class="tsd-signature-symbol">; </span>info<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/MessageInfo.html" class="tsd-signature-type" data-tsd-kind="Interface">MessageInfo</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>If successful, returns information about the submitted message. You can use <code>messageId</code> to check the processing status of your message by calling <a href="QueueManager.html#getMessageStatus">getMessageStatus</a> method. In case of an errors, returns the errors that occurred.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class"><a href="QueueManager.html" class="tsd-kind-icon">Queue<wbr/>Manager</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-overwrite"><a href="QueueManager.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited tsd-is-protected"><a href="QueueManager.html#fetcher" class="tsd-kind-icon">fetcher</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueueManager.html#getMessageStatus" class="tsd-kind-icon">get<wbr/>Message<wbr/>Status</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="QueueManager.html#submitMessage" class="tsd-kind-icon">submit<wbr/>Message</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>